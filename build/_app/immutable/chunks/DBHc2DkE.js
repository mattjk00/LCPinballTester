import{O as e,Q as t,R as a,y as r,T as n,V as o,W as s,B as l,X as i,Y as u,Z as c,_ as d,a0 as v,a1 as f,a2 as p,N as h,a3 as m,a4 as w,a5 as _,a6 as g,a7 as y,a8 as b,a9 as E,aa as L,ab as T,p as j,c as x,M,j as S}from"./DRrBpfaE.js";import{r as W,b as k}from"./bbbXW2FV.js";const B=["touchstart","touchmove"],N=new Set,O=new Set;function V(s,l,i,u,c){var d={capture:u,passive:c},v=function(n,s,l,i={}){function u(n){if(i.capture||C.call(s,n),!n.cancelBubble)return function(n){var o=a,s=r;e(null),t(null);try{return n()}finally{e(o),t(s)}}((()=>null==l?void 0:l.call(this,n)))}return n.startsWith("pointer")||n.startsWith("touch")||"wheel"===n?o((()=>{s.addEventListener(n,u,i)})):s.addEventListener(n,u,i),u}(s,l,i,d);l!==document.body&&l!==window&&l!==document||n((()=>{l.removeEventListener(s,v,d)}))}function C(n){var o,i=this,u=i.ownerDocument,c=n.type,d=(null==(o=n.composedPath)?void 0:o.call(n))||[],v=d[0]||n.target,f=0,p=n.__root;if(p){var h=d.indexOf(p);if(-1!==h&&(i===document||i===window))return void(n.__root=i);var m=d.indexOf(i);if(-1===m)return;h<=m&&(f=h)}if((v=d[f]||n.target)!==i){s(n,"currentTarget",{configurable:!0,get:()=>v||u});var w=a,_=r;e(null),t(null);try{for(var g,y=[];null!==v;){var b=v.assignedSlot||v.parentNode||v.host||null;try{var E=v["__"+c];if(null!=E&&(!v.disabled||n.target===v))if(l(E)){var[L,...T]=E;L.apply(v,[n,...T])}else E.call(v,n)}catch(j){g?y.push(j):g=j}if(n.cancelBubble||b===i||null===b)break;v=b}if(g){for(let e of y)queueMicrotask((()=>{throw e}));throw g}}finally{n.__root=i,delete n.currentTarget,e(w),t(_)}}}function P(e,t){var a=null==t?"":"object"==typeof t?t+"":t;a!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=a,e.nodeValue=a+"")}function $(e,t){return Q(e,t)}function q(e,t){i(),t.intro=t.intro??!1;const a=t.target,r=M,n=m;try{for(var o=u(a);o&&(8!==o.nodeType||o.data!==c);)o=d(o);if(!o)throw v;f(!0),p(o),h();const r=Q(e,{...t,anchor:o});if(null===m||8!==m.nodeType||m.data!==w)throw _(),v;return f(!1),r}catch(s){if(s===v)return!1===t.recover&&g(),i(),y(a),f(!1),$(e,t);throw s}finally{f(r),p(n),W()}}const D=new Map;function Q(e,{target:t,anchor:a,props:n={},events:o,context:s,intro:l=!0}){i();var u=new Set,c=e=>{for(var a=0;a<e.length;a++){var r=e[a];if(!u.has(r)){u.add(r);var n=(s=r,B.includes(s));t.addEventListener(r,C,{passive:n});var o=D.get(r);void 0===o?(document.addEventListener(r,C,{passive:n}),D.set(r,1)):D.set(r,o+1)}}var s};c(b(N)),O.add(c);var d=void 0,v=E((()=>{var l=a??t.appendChild(L());return T((()=>{s&&(j({}),x.c=s),o&&(n.$$events=o),M&&k(l,null),d=e(l,n)||{},M&&(r.nodes_end=m),s&&S()})),()=>{var e;for(var r of u){t.removeEventListener(r,C);var n=D.get(r);0==--n?(document.removeEventListener(r,C),D.delete(r)):D.set(r,n)}O.delete(c),l!==a&&(null==(e=l.parentNode)||e.removeChild(l))}}));return R.set(d,v),d}let R=new WeakMap;function X(e,t){const a=R.get(e);return a?(R.delete(e),a(t)):Promise.resolve()}export{V as e,q as h,$ as m,P as s,X as u};
